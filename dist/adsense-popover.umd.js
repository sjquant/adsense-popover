(function(m,d){typeof exports=="object"&&typeof module<"u"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(m=typeof globalThis<"u"?globalThis:m||self,d(m.adsensePopover={}))})(this,function(m){"use strict";var Bt=Object.defineProperty;var Tt=(m,d,_)=>d in m?Bt(m,d,{enumerable:!0,configurable:!0,writable:!0,value:_}):m[d]=_;var g=(m,d,_)=>(Tt(m,typeof d!="symbol"?d+"":d,_),_);/*! 
Copyright (c) 2023 sjquant. All rights reserved.

This software is part of the adsense-popover project: https://github.com/sjquant/adsense-popover

Licensed under the MIT License. See the LICENSE file in the project root for full license information.
*/function d(){}function _(e){return e()}function I(){return Object.create(null)}function O(e){e.forEach(_)}function M(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ct(e){return Object.keys(e).length===0}function H(e){return e??""}function N(e,t){e.appendChild(t)}function V(e,t,n){const i=ft(e);if(!i.getElementById(t)){const o=p("style");o.id=t,o.textContent=n,at(i,o)}}function ft(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function at(e,t){return N(e.head||e,t),t.sheet}function Y(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function dt(e){return document.createTextNode(e)}function ht(){return dt(" ")}function $t(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function mt(e){return Array.from(e.childNodes)}function gt(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}let E;function P(e){E=e}function J(){if(!E)throw new Error("Function called outside component initialization");return E}function _t(e){J().$$.on_mount.push(e)}function bt(e){J().$$.on_destroy.push(e)}const w=[],B=[];let v=[];const F=[],yt=Promise.resolve();let T=!1;function pt(){T||(T=!0,yt.then(h))}function K(e){v.push(e)}const X=new Set;let x=0;function h(){if(x!==0)return;const e=E;do{try{for(;x<w.length;){const t=w[x];x++,P(t),wt(t.$$)}}catch(t){throw w.length=0,x=0,t}for(P(null),w.length=0,x=0;B.length;)B.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];X.has(n)||(X.add(n),n())}v.length=0}while(w.length);for(;F.length;)F.pop()();T=!1,X.clear(),P(e)}function wt(e){if(e.fragment!==null){e.update(),O(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function vt(e){const t=[],n=[];v.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),v=t}const L=new Set;let xt;function U(e,t){e&&e.i&&(L.delete(e),e.i(t))}function kt(e,t,n,i){if(e&&e.o){if(L.has(e))return;L.add(e),xt.c.push(()=>{L.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Et(e){e&&e.c()}function q(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),K(()=>{const s=e.$$.on_mount.map(_).filter(M);e.$$.on_destroy?e.$$.on_destroy.push(...s):O(s),e.$$.on_mount=[]}),o.forEach(K)}function G(e,t){const n=e.$$;n.fragment!==null&&(vt(n.after_update),O(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(e,t){e.$$.dirty[0]===-1&&(w.push(e),pt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(e,t,n,i,o,s,f=null,u=[-1]){const l=E;P(e);const r=e.$$={fragment:null,ctx:[],props:s,update:d,not_equal:o,bound:I(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:I(),dirty:u,skip_bound:!1,root:t.target||l.$$.root};f&&f(r.root);let b=!1;if(r.ctx=n?n(e,t.props||{},($,y,...k)=>{const C=k.length?k[0]:y;return r.ctx&&o(r.ctx[$],r.ctx[$]=C)&&(!r.skip_bound&&r.bound[$]&&r.bound[$](C),b&&Pt(e,$)),y}):[],r.update(),b=!0,O(r.before_update),r.fragment=i?i(r.ctx):!1,t.target){if(t.hydrate){const $=mt(t.target);r.fragment&&r.fragment.l($),$.forEach(A)}else r.fragment&&r.fragment.c();t.intro&&U(e.$$.fragment),q(e,t.target,t.anchor),h()}P(l)}let W;typeof HTMLElement=="function"&&(W=class extends HTMLElement{constructor(t,n,i){super();g(this,"$$ctor");g(this,"$$s");g(this,"$$c");g(this,"$$cn",!1);g(this,"$$d",{});g(this,"$$r",!1);g(this,"$$p_d",{});g(this,"$$l",{});g(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=n,i&&this.attachShadow({mode:"open"})}addEventListener(t,n,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){const o=this.$$c.$on(t,n);this.$$l_u.set(n,o)}super.addEventListener(t,n,i)}removeEventListener(t,n,i){if(super.removeEventListener(t,n,i),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(s){return()=>{let f;return{c:function(){f=p("slot"),s!=="default"&&a(f,"name",s)},m:function(r,b){Y(r,f,b)},d:function(r){r&&A(f)}}}};if(await Promise.resolve(),!this.$$cn)return;const n={},i=gt(this);for(const s of this.$$s)s in i&&(n[s]=[t(s)]);for(const s of this.attributes){const f=this.$$g_p(s.name);f in this.$$d||(this.$$d[f]=D(f,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$scope:{ctx:[]}}});const o=()=>{this.$$r=!0;for(const s in this.$$p_d)if(this.$$d[s]=this.$$c.$$.ctx[this.$$c.$$.props[s]],this.$$p_d[s].reflect){const f=D(s,this.$$d[s],this.$$p_d,"toAttribute");f==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,f)}this.$$r=!1};this.$$c.$$.after_update.push(o),o();for(const s in this.$$l)for(const f of this.$$l[s]){const u=this.$$c.$on(s,f);this.$$l_u.set(f,u)}this.$$l={}}}attributeChangedCallback(t,n,i){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=D(t,i,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function D(e,t,n,i){var s;const o=(s=n[e])==null?void 0:s.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!n[e])return t;if(i==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Z(e,t,n,i,o,s){let f=class extends W{constructor(){super(e,n,o),this.$$p_d=t}static get observedAttributes(){return Object.keys(t).map(u=>(t[u].attribute||u).toLowerCase())}};return Object.keys(t).forEach(u=>{Object.defineProperty(f.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(l){var r;l=D(u,l,t),this.$$d[u]=l,(r=this.$$c)==null||r.$set({[u]:l})}})}),i.forEach(u=>{Object.defineProperty(f.prototype,u,{get(){var l;return(l=this.$$c)==null?void 0:l[u]}})}),s&&(f=s(f)),e.element=f,f}class tt{constructor(){g(this,"$$");g(this,"$$set")}$destroy(){G(this,1),this.$destroy=d}$on(t,n){if(!M(n))return d;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!ct(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ct);function jt(e){V(e,"svelte-wbtlcz",".close-btn.svelte-wbtlcz.svelte-wbtlcz{background:transparent;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;border:none;border-radius:0px;outline:none}.close-btn.svelte-wbtlcz svg.svelte-wbtlcz{width:16px;height:16px}")}function zt(e){let t,n,i;return{c(){t=p("button"),t.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-wbtlcz"><path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',a(t,"class","close-btn svelte-wbtlcz")},m(o,s){Y(o,t,s),n||(i=$t(t,"click",function(){M(e[0])&&e[0].apply(this,arguments)}),n=!0)},p(o,[s]){e=o},i:d,o:d,d(o){o&&A(t),n=!1,i()}}}function St(e,t,n){let{onClick:i}=t;return e.$$set=o=>{"onClick"in o&&n(0,i=o.onClick)},[i]}class et extends tt{constructor(t){super(),Q(this,t,St,zt,R,{onClick:0},jt)}get onClick(){return this.$$.ctx[0]}set onClick(t){this.$$set({onClick:t}),h()}}Z(et,{onClick:{}},[],[],!0);function Ot(e){V(e,"svelte-tm3ms6",".adsense-popover.svelte-tm3ms6.svelte-tm3ms6{position:fixed;visibility:hidden;box-shadow:0 2px 8px hsla(0, 0%, 0%, 0.22);border-radius:4px;opacity:0;background-color:#fff;z-index:9999}.adsense-popover.visible.svelte-tm3ms6.svelte-tm3ms6{visibility:visible;opacity:1;transform:translateY(0) !important}.adsense-popover.svelte-tm3ms6 .close-btn.svelte-tm3ms6{position:absolute;z-index:1;color:#000;background-color:#fff;cursor:pointer;top:0;right:0}.adsense-popover.svelte-tm3ms6 .close-btn.svelte-tm3ms6:hover{background-color:#f5f5f5}.adsbygoogle.svelte-tm3ms6.svelte-tm3ms6{display:block;background-color:#fff}")}function Nt(e){let t,n,i,o,s,f,u;return i=new et({props:{onClick:e[9]}}),{c(){t=p("div"),n=p("div"),Et(i.$$.fragment),o=ht(),s=p("ins"),a(n,"class","close-btn svelte-tm3ms6"),a(n,"style",e[7]),a(s,"class","adsbygoogle svelte-tm3ms6"),a(s,"data-ad-client",e[2]),a(s,"data-ad-slot",e[1]),a(s,"data-ad-layout-key",e[0]),a(s,"data-ad-format",e[3]),a(s,"data-full-width-responsive",e[4]),a(t,"class",f=H(`adsense-popover ${e[6]?"visible":""}`)+" svelte-tm3ms6"),a(t,"style",e[8])},m(l,r){Y(l,t,r),N(t,n),q(i,n,null),N(t,o),N(t,s),e[19](s),u=!0},p(l,[r]){(!u||r&128)&&a(n,"style",l[7]),(!u||r&4)&&a(s,"data-ad-client",l[2]),(!u||r&2)&&a(s,"data-ad-slot",l[1]),(!u||r&1)&&a(s,"data-ad-layout-key",l[0]),(!u||r&8)&&a(s,"data-ad-format",l[3]),(!u||r&16)&&a(s,"data-full-width-responsive",l[4]),(!u||r&64&&f!==(f=H(`adsense-popover ${l[6]?"visible":""}`)+" svelte-tm3ms6"))&&a(t,"class",f),(!u||r&256)&&a(t,"style",l[8])},i(l){u||(U(i.$$.fragment,l),u=!0)},o(l){kt(i.$$.fragment,l),u=!1},d(l){l&&A(t),G(i),e[19](null)}}}function At(e,t,n){let i,o,{width:s=400}=t,{height:f=140}=t,{padding:u=8}=t,{offsetX:l=16}=t,{offsetY:r=16}=t,{animationDuration:b=.5}=t,{horizontalPosition:$="right"}=t,{verticalPosition:y="bottom"}=t,{timeout:k=2e3}=t,{layoutKey:C=""}=t,{slot:st=""}=t,{client:it=""}=t,{format:ot="auto"}=t,{responsive:rt="true"}=t,j,z=!1;const ut=new MutationObserver(c=>{var S;for(const lt of c){const{type:Mt,attributeName:Yt}=lt;if(Mt==="attributes"&&Yt==="data-ad-status"&&((S=lt.target.attributes.getNamedItem("data-ad-status"))==null?void 0:S.value)==="unfilled"){n(6,z=!1);break}}});_t(()=>{(window.adsbygoogle=window.adsbygoogle||[]).push({}),ut.observe(j,{attributes:!0}),setTimeout(()=>{var S;((S=j.attributes.getNamedItem("data-ad-status"))==null?void 0:S.value)==="unfilled"?n(6,z=!1):n(6,z=!0)},k)}),bt(()=>{ut.disconnect()});function Lt(){n(6,z=!1)}function Dt(c){B[c?"unshift":"push"](()=>{j=c,n(5,j)})}return e.$$set=c=>{"width"in c&&n(10,s=c.width),"height"in c&&n(11,f=c.height),"padding"in c&&n(12,u=c.padding),"offsetX"in c&&n(13,l=c.offsetX),"offsetY"in c&&n(14,r=c.offsetY),"animationDuration"in c&&n(15,b=c.animationDuration),"horizontalPosition"in c&&n(16,$=c.horizontalPosition),"verticalPosition"in c&&n(17,y=c.verticalPosition),"timeout"in c&&n(18,k=c.timeout),"layoutKey"in c&&n(0,C=c.layoutKey),"slot"in c&&n(1,st=c.slot),"client"in c&&n(2,it=c.client),"format"in c&&n(3,ot=c.format),"responsive"in c&&n(4,rt=c.responsive)},e.$$.update=()=>{e.$$.dirty&261120&&n(8,i=`
  width: ${s}px;
  height: ${f}px;
  ${y}: ${r}px;
  transition-duration: ${b}s;
  ${$==="center"?`left: calc(50% - ${s/2})px`:`${$}: ${l}px`};
  transform: translateY(${y==="bottom"?50:-50}%);
  padding: ${u}px;
`),e.$$.dirty&4096&&n(7,o=`
  margin: ${u}px;
`)},[C,st,it,ot,rt,j,z,o,i,Lt,s,f,u,l,r,b,$,y,k,Dt]}class nt extends tt{constructor(t){super(),Q(this,t,At,Nt,R,{width:10,height:11,padding:12,offsetX:13,offsetY:14,animationDuration:15,horizontalPosition:16,verticalPosition:17,timeout:18,layoutKey:0,slot:1,client:2,format:3,responsive:4},Ot)}get width(){return this.$$.ctx[10]}set width(t){this.$$set({width:t}),h()}get height(){return this.$$.ctx[11]}set height(t){this.$$set({height:t}),h()}get padding(){return this.$$.ctx[12]}set padding(t){this.$$set({padding:t}),h()}get offsetX(){return this.$$.ctx[13]}set offsetX(t){this.$$set({offsetX:t}),h()}get offsetY(){return this.$$.ctx[14]}set offsetY(t){this.$$set({offsetY:t}),h()}get animationDuration(){return this.$$.ctx[15]}set animationDuration(t){this.$$set({animationDuration:t}),h()}get horizontalPosition(){return this.$$.ctx[16]}set horizontalPosition(t){this.$$set({horizontalPosition:t}),h()}get verticalPosition(){return this.$$.ctx[17]}set verticalPosition(t){this.$$set({verticalPosition:t}),h()}get timeout(){return this.$$.ctx[18]}set timeout(t){this.$$set({timeout:t}),h()}get layoutKey(){return this.$$.ctx[0]}set layoutKey(t){this.$$set({layoutKey:t}),h()}get slot(){return this.$$.ctx[1]}set slot(t){this.$$set({slot:t}),h()}get client(){return this.$$.ctx[2]}set client(t){this.$$set({client:t}),h()}get format(){return this.$$.ctx[3]}set format(t){this.$$set({format:t}),h()}get responsive(){return this.$$.ctx[4]}set responsive(t){this.$$set({responsive:t}),h()}}customElements.define("adsense-popover",Z(nt,{width:{},height:{},padding:{},offsetX:{},offsetY:{},animationDuration:{},horizontalPosition:{},verticalPosition:{},timeout:{},layoutKey:{},slot:{},client:{},format:{},responsive:{}},[],[],!1)),m.Adsense=nt,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
